!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t){e.exports=react},function(e,t){e.exports=PropTypes},function(e,t){e.exports=mobxReact},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ALL_TODOS="all",t.ACTIVE_TODOS="active",t.COMPLETED_TODOS="completed"},function(e,t){e.exports=mobx},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=o(6),i=n(r),l=o(12),u=n(l),a=o(14),c=n(a),f=window.p7hostGlobal.storeStore,d=(f.getStore,f.addStore);d("view-store",new c.default),d("todo-store",new u.default);var s={routes:[{path:"/todo",exact:!0,component:i.default}]};f.getStore("plugin-store").addPlugin(s)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(0),f=n(c),d=o(1),s=(n(d),o(2)),p=o(7),b=n(p),v=o(9),h=n(v),y=o(11),m=n(y),w=(o(3),window.p7hostGlobal.storeStore),g=w.getStore,O=(w.addStore,(0,s.observer)(u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),a(t,[{key:"render",value:function(){var e=g("todo-store"),t=g("view-store");return f.default.createElement("div",null,f.default.createElement("header",{className:"header"},f.default.createElement("h1",null,"todos"),f.default.createElement(b.default,{todoStore:e})),f.default.createElement(h.default,{todoStore:e,viewStore:t}),f.default.createElement(m.default,{todoStore:e,viewStore:t}))}},{key:"componentDidMount",value:function(){}}]),t}(f.default.Component))||u);t.default=O,O.propTypes={},e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(0),f=n(c),d=o(8),s=n(d),p=o(1),b=n(p),v=o(2),h=13,y=(0,v.observer)(u=function(e){function t(){var e,o,n,l;r(this,t);for(var u=arguments.length,a=Array(u),c=0;c<u;c++)a[c]=arguments[c];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.handleNewTodoKeyDown=function(e){if(e.keyCode===h){e.preventDefault();var t=s.default.findDOMNode(n.refs.newField).value.trim();t&&(n.props.todoStore.addTodo(t),s.default.findDOMNode(n.refs.newField).value="")}},l=o,i(n,l)}return l(t,e),a(t,[{key:"render",value:function(){return f.default.createElement("input",{ref:"newField",className:"new-todo",placeholder:"What needs to be done?",onKeyDown:this.handleNewTodoKeyDown,autoFocus:!0})}}]),t}(f.default.Component))||u;t.default=y,y.propTypes={todoStore:b.default.object.isRequired},e.exports=t.default},function(e,t){e.exports=ReactDOM},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(0),f=n(c),d=o(1),s=n(d),p=o(2),b=o(3),v=o(10),h=n(v),y=(0,p.observer)(u=function(e){function t(){var e,o,n,l;r(this,t);for(var u=arguments.length,a=Array(u),c=0;c<u;c++)a[c]=arguments[c];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.toggleAll=function(e){var t=e.target.checked;n.props.todoStore.toggleAll(t)},l=o,i(n,l)}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.todoStore,o=e.viewStore;return 0===t.todos.length?null:f.default.createElement("section",{className:"main"},f.default.createElement("input",{className:"toggle-all",type:"checkbox",onChange:this.toggleAll,checked:0===t.activeTodoCount}),f.default.createElement("ul",{className:"todo-list"},this.getVisibleTodos().map(function(e){return f.default.createElement(h.default,{key:e.id,todo:e,viewStore:o})})))}},{key:"getVisibleTodos",value:function(){var e=this;return this.props.todoStore.todos.filter(function(t){switch(e.props.viewStore.todoFilter){case b.ACTIVE_TODOS:return!t.completed;case b.COMPLETED_TODOS:return t.completed;default:return!0}})}}]),t}(f.default.Component))||u;t.default=y,y.propTypes={viewStore:s.default.object.isRequired,todoStore:s.default.object.isRequired},e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c,f,d=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o(0),p=n(s),b=o(1),v=n(b),h=o(2),y=o(4),m=27,w=13,g=(0,h.observer)((c=function(e){function t(){var e,o,n,u;i(this,t);for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return o=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r(n,"editText",f,n),n.handleSubmit=function(e){var t=n.editText.trim();t?(n.props.todo.setTitle(t),n.editText=t):n.handleDestroy(),n.props.viewStore.todoBeingEdited=null},n.handleDestroy=function(){n.props.todo.destroy(),n.props.viewStore.todoBeingEdited=null},n.handleEdit=function(){var e=n.props.todo;n.props.viewStore.todoBeingEdited=e,n.editText=e.title},n.handleKeyDown=function(e){e.which===m?(n.editText=n.props.todo.title,n.props.viewStore.todoBeingEdited=null):e.which===w&&n.handleSubmit(e)},n.handleChange=function(e){n.editText=e.target.value},n.handleToggle=function(){n.props.todo.toggle()},u=o,l(n,u)}return u(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.viewStore,o=e.todo;return p.default.createElement("li",{className:[o.completed?"completed":"",(0,y.expr)(function(){return o===t.todoBeingEdited?"editing":""})].join(" ")},p.default.createElement("div",{className:"view"},p.default.createElement("input",{className:"toggle",type:"checkbox",checked:o.completed,onChange:this.handleToggle}),p.default.createElement("label",{onDoubleClick:this.handleEdit},o.title),p.default.createElement("button",{className:"destroy",onClick:this.handleDestroy})),p.default.createElement("input",{ref:"editField",className:"edit",value:this.editText,onBlur:this.handleSubmit,onChange:this.handleChange,onKeyDown:this.handleKeyDown}))}}]),t}(p.default.Component),f=function(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}(c.prototype,"editText",[y.observable],{enumerable:!0,initializer:function(){return""}}),a=c))||a;t.default=g,g.propTypes={todo:v.default.object.isRequired,viewStore:v.default.object.isRequired},e.exports=t.default},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(0),f=n(c),d=o(1),s=n(d),p=o(2),b=o(3),v=window.p7hostGlobal.utils,h=v.pluralize,y=(0,p.observer)(u=function(e){function t(){var e,o,n,l;r(this,t);for(var u=arguments.length,a=Array(u),c=0;c<u;c++)a[c]=arguments[c];return o=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.clearCompleted=function(){n.props.todoStore.clearCompleted()},l=o,i(n,l)}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.todoStore;if(!e.activeTodoCount&&!e.completedCount)return null;var t=h(e.activeTodoCount,"item");return f.default.createElement("footer",{className:"footer"},f.default.createElement("span",{className:"todo-count"},f.default.createElement("strong",null,e.activeTodoCount)," ",t," left"),f.default.createElement("ul",{className:"filters"},this.renderFilterLink(b.ALL_TODOS,"","All"),this.renderFilterLink(b.ACTIVE_TODOS,"active","Active"),this.renderFilterLink(b.COMPLETED_TODOS,"completed","Completed")),0===e.completedCount?null:f.default.createElement("button",{className:"clear-completed",onClick:this.clearCompleted},"Clear completed"))}},{key:"renderFilterLink",value:function(e,t,o){return f.default.createElement("li",null,f.default.createElement("a",{href:"#/"+t,className:e===this.props.viewStore.todoFilter?"selected":""},o)," ")}}]),t}(f.default.Component))||u;t.default=y,y.propTypes={viewStore:s.default.object.isRequired,todoStore:s.default.object.isRequired},e.exports=t.default},function(e,t,o){"use strict";function n(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=o(4),f=o(13),d=function(e){return e&&e.__esModule?e:{default:e}}(f),s=window.p7hostGlobal.utils,p=(l=function(){function e(){r(this,e),n(this,"todos",u,this)}return a(e,[{key:"subscribeServerToStore",value:function(){var e=this;(0,c.reaction)(function(){return e.toJS()},function(e){return window.fetch&&fetch("/api/todos",{method:"post",body:JSON.stringify({todos:e}),headers:new Headers({"Content-Type":"application/json"})})})}},{key:"subscribeLocalstorageToStore",value:function(){var e=this;(0,c.reaction)(function(){return e.toJS()},function(e){return localStorage.setItem("mobx-react-todomvc-todos",JSON.stringify({todos:e}))})}},{key:"addTodo",value:function(e){this.todos.push(new d.default(this,s.uuid(),e,!1))}},{key:"toggleAll",value:function(e){this.todos.forEach(function(t){return t.completed=e})}},{key:"clearCompleted",value:function(){this.todos=this.todos.filter(function(e){return!e.completed})}},{key:"toJS",value:function(){return this.todos.map(function(e){return e.toJS()})}},{key:"activeTodoCount",get:function(){return this.todos.reduce(function(e,t){return e+(t.completed?0:1)},0)}},{key:"completedCount",get:function(){return this.todos.length-this.activeTodoCount}}],[{key:"fromJS",value:function(t){var o=new e;return o.todos=t.map(function(e){return d.default.fromJS(o,e)}),o}}]),e}(),u=i(l.prototype,"todos",[c.observable],{enumerable:!0,initializer:function(){return[]}}),i(l.prototype,"activeTodoCount",[c.computed],Object.getOwnPropertyDescriptor(l.prototype,"activeTodoCount"),l.prototype),i(l.prototype,"completedCount",[c.computed],Object.getOwnPropertyDescriptor(l.prototype,"completedCount"),l.prototype),l);t.default=p,e.exports=t.default},function(e,t,o){"use strict";function n(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,a,c=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),f=o(4),d=(l=function(){function e(t,o,i,l){r(this,e),n(this,"title",u,this),n(this,"completed",a,this),this.store=t,this.id=o,this.title=i,this.completed=l}return c(e,[{key:"toggle",value:function(){this.completed=!this.completed}},{key:"destroy",value:function(){this.store.todos.remove(this)}},{key:"setTitle",value:function(e){this.title=e}},{key:"toJS",value:function(){return{id:this.id,title:this.title,completed:this.completed}}}],[{key:"fromJS",value:function(t,o){return new e(t,o.id,o.title,o.completed)}}]),e}(),u=i(l.prototype,"title",[f.observable],{enumerable:!0,initializer:null}),a=i(l.prototype,"completed",[f.observable],{enumerable:!0,initializer:null}),l);t.default=d,e.exports=t.default},function(e,t,o){"use strict";function n(e,t,o,n){o&&Object.defineProperty(e,t,{enumerable:o.enumerable,configurable:o.configurable,writable:o.writable,value:o.initializer?o.initializer.call(n):void 0})}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,o,n,r){var i={};return Object.keys(n).forEach(function(e){i[e]=n[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=o.slice().reverse().reduce(function(o,n){return n(e,t,o)||o},i),r&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(r):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,u,a,c=o(4),f=o(3),d=(l=function e(){r(this,e),n(this,"todoBeingEdited",u,this),n(this,"todoFilter",a,this)},u=i(l.prototype,"todoBeingEdited",[c.observable],{enumerable:!0,initializer:function(){return null}}),a=i(l.prototype,"todoFilter",[c.observable],{enumerable:!0,initializer:function(){return f.ALL_TODOS}}),l);t.default=d,e.exports=t.default}]);
//# sourceMappingURL=bundle.js.map